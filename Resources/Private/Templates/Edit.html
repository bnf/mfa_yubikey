<h3>Configured YubiKeys</h3>
<table class="table">
    <thead>
    <tr>
        <th scope="col">#</th>
        <th scope="col">Name</th>
        <th scope="col">YubiKey ID</th>
        <th scope="col">Added</th>
        <th scope="col">Last used</th>
        <th></th>
    </tr>
    </thead>
    <tbody>
    <f:for each="{yubikeys}" as="yubikey" iteration="i">
        <tr>
            <td>{i.cycle}</td>
            <td>{yubikey.name}</td>
            <td>{yubikey.yubikeyId}</td>
            <td>{yubikey.added -> f:format.date(format: 'd.m.Y H:i:s')}</td>
            <td>
                <f:if condition="{yubikey.lastUsed}">
                    <f:then>
                        {yubikey.lastUsed -> f:format.date(format: 'd.m.Y H:i:s')}
                    </f:then>
                    <f:else>
                        Never
                    </f:else>
                </f:if>
            </td>
            <td>
                <f:if condition="{yubikeys -> f:count()} > 1">
                    <button name="delete" class="btn btn-default" value="{yubikey.yubikeyId}">
                        <core:icon identifier="actions-delete" size="small" />
                        Delete
                    </button>
                </f:if>
            </td>
        </tr>
    </f:for>
    </tbody>
</table>

<f:render partial="AddFormFields" arguments="{_all}" />
